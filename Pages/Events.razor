@page "/events"
@inject NavigationManager nav
@inject Global global
@using OtherPeopleRecordsWeb.Data
@inject ApplicationDbContext DbContext

<PageTitle>OtherPeopleRecords</PageTitle>

<MudContainer Class="d-flex flex-column justify-center align-center ma-0 pa-0" Style=" width:100%; height:auto; margin-top:40px!important; max-width: 90%">
	<MudGrid Style="width:95%;" Class="align-center justify-center ma-0 pa-0">
		@foreach (Card card in _cards.Where(c => c.cardType == CardType.Event).OrderByDescending(c => c.date))
		{
			<OTPCard card="card" FromLeft="direction" />
			direction = !direction;
		}
	</MudGrid>
</MudContainer>

@code {
	private bool direction = true;
	private List<Card> _cards = new();

	protected override async Task OnInitializedAsync()
	{
		_cards = DbContext.Cards.ToList();
	}
}